{"ast":null,"code":"import { baseUrl } from \"../../shared/baseUrl\";\n\nconst axios = require(\"axios\");\n\nexport const getChats = token => async dispatch => {\n  try {\n    const bearer_token = \"Bearer \" + token;\n    const payload = await axios({\n      method: \"get\",\n      url: baseUrl + \"messages\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: bearer_token\n      }\n    });\n    dispatch({\n      type: \"GET_CHAT\",\n      payload: payload.data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"CHAT_ERROR\",\n      payload: e\n    });\n  }\n};\nexport const sendMessage = (token, msg, to) => async dispatch => {\n  try {\n    const bearer_token = \"Bearer \" + token;\n    const data = await axios({\n      method: \"post\",\n      url: baseUrl + \"messages\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: bearer_token\n      },\n      data: {\n        msg,\n        to\n      }\n    });\n    dispatch({\n      type: \"MSG_SENT\",\n      payload: data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"MSG_ERROR\",\n      payload: e\n    });\n  }\n};","map":{"version":3,"sources":["/home/jaskaran/Desktop/poogle/Poogle/src/redux/actions/chat.js"],"names":["baseUrl","axios","require","getChats","token","dispatch","bearer_token","payload","method","url","headers","Authorization","type","data","e","sendMessage","msg","to"],"mappings":"AAAA,SAASA,OAAT,QAAwB,sBAAxB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAAW,MAAOC,QAAP,IAAoB;AACtD,MAAI;AACH,UAAMC,YAAY,GAAG,YAAYF,KAAjC;AACA,UAAMG,OAAO,GAAG,MAAMN,KAAK,CAAC;AAC3BO,MAAAA,MAAM,EAAE,KADmB;AAE3BC,MAAAA,GAAG,EAAET,OAAO,GAAG,UAFY;AAG3BU,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAERC,QAAAA,aAAa,EAAEL;AAFP;AAHkB,KAAD,CAA3B;AAQAD,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,UAAR;AAAoBL,MAAAA,OAAO,EAAEA,OAAO,CAACM;AAArC,KAAD,CAAR;AACA,GAXD,CAWE,OAAOC,CAAP,EAAU;AACXT,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,YAAR;AAAsBL,MAAAA,OAAO,EAAEO;AAA/B,KAAD,CAAR;AACA;AACD,CAfM;AAiBP,OAAO,MAAMC,WAAW,GAAG,CAACX,KAAD,EAAQY,GAAR,EAAaC,EAAb,KAAoB,MAAOZ,QAAP,IAAoB;AAClE,MAAI;AACH,UAAMC,YAAY,GAAG,YAAYF,KAAjC;AACA,UAAMS,IAAI,GAAG,MAAMZ,KAAK,CAAC;AACxBO,MAAAA,MAAM,EAAE,MADgB;AAExBC,MAAAA,GAAG,EAAET,OAAO,GAAG,UAFS;AAGxBU,MAAAA,OAAO,EAAE;AACR,wBAAgB,kBADR;AAERC,QAAAA,aAAa,EAAEL;AAFP,OAHe;AAOxBO,MAAAA,IAAI,EAAE;AAAEG,QAAAA,GAAF;AAAOC,QAAAA;AAAP;AAPkB,KAAD,CAAxB;AASAZ,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,UAAR;AAAoBL,MAAAA,OAAO,EAAEM;AAA7B,KAAD,CAAR;AACA,GAZD,CAYE,OAAOC,CAAP,EAAU;AACXT,IAAAA,QAAQ,CAAC;AAAEO,MAAAA,IAAI,EAAE,WAAR;AAAqBL,MAAAA,OAAO,EAAEO;AAA9B,KAAD,CAAR;AACA;AACD,CAhBM","sourcesContent":["import { baseUrl } from \"../../shared/baseUrl\";\nconst axios = require(\"axios\");\n\nexport const getChats = (token) => async (dispatch) => {\n\ttry {\n\t\tconst bearer_token = \"Bearer \" + token;\n\t\tconst payload = await axios({\n\t\t\tmethod: \"get\",\n\t\t\turl: baseUrl + \"messages\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: bearer_token,\n\t\t\t},\n\t\t});\n\t\tdispatch({ type: \"GET_CHAT\", payload: payload.data });\n\t} catch (e) {\n\t\tdispatch({ type: \"CHAT_ERROR\", payload: e });\n\t}\n};\n\nexport const sendMessage = (token, msg, to) => async (dispatch) => {\n\ttry {\n\t\tconst bearer_token = \"Bearer \" + token;\n\t\tconst data = await axios({\n\t\t\tmethod: \"post\",\n\t\t\turl: baseUrl + \"messages\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: bearer_token,\n\t\t\t},\n\t\t\tdata: { msg, to },\n\t\t});\n\t\tdispatch({ type: \"MSG_SENT\", payload: data });\n\t} catch (e) {\n\t\tdispatch({ type: \"MSG_ERROR\", payload: e });\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}