{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/jaskaran/Desktop/poogle/Poogle/src/components/add_forms/addBlogs.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport { Breadcrumb, BreadcrumbItem, Jumbotron } from \"reactstrap\";\nimport { Link } from 'react-router-dom';\nimport './add_forms.css';\nimport Form from 'react-bootstrap/Form';\nimport Select from 'react-select';\nimport ReactQuill from 'react-quill';\nimport { Quill } from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport ImageCompress from 'quill-image-compress';\nimport { spaces, toolbarOptions, formats } from '../variables';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { zoomOut, slideInDown, slideInUp, bounce, flipInX, zoomIn } from 'react-animations';\nimport Radium, { StyleRoot } from 'radium';\nimport 'react-toastify/dist/ReactToastify.css';\nQuill.register('modules/imageCompress', ImageCompress);\nconst styles = {\n  zoomIn: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(zoomIn, 'zoomIn')\n  },\n  slideInUp: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(slideInUp, 'slideInUp')\n  },\n  bounce: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(bounce, 'bounce')\n  },\n  flipInX: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(flipInX, 'flipInX')\n  }\n};\n\nclass addBlogs extends Component {\n  constructor(props) {\n    super(props);\n    this.modules = {\n      toolbar: toolbarOptions,\n      imageCompress: {\n        quality: 0.7,\n        maxWidth: 500,\n        maxHeight: 500,\n        imageType: 'image/jpeg',\n        debug: true\n      }\n    };\n\n    this.handleMultiSelectChange = category => {\n      this.setState({\n        category: category\n      });\n    };\n\n    this.notify = message => toast.warning(message);\n\n    this.notifyS = message => toast.success(message);\n\n    this.notifyF = message => toast.error(message);\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const isValid = this.formValidation();\n      console.log(this.state);\n\n      if (isValid) {\n        var tagNames = [];\n        var tagIds = [];\n        var len = this.state.category.length;\n        var flag = false;\n\n        for (var i = 0; i < len; i++) {\n          tagNames.push(this.state.category[i].label);\n          tagIds.push(this.state.category[i].value);\n          var interests = localStorage.getItem('interests');\n          if (interests.indexOf(this.state.category[i].value) > -1) flag = true;\n        }\n\n        if (flag) {\n          const newBlog = {\n            heading: this.state.title,\n            tagNames: tagNames,\n            tagIds: tagIds,\n            description: this.state.description,\n            author: this.props.auth.userId,\n            duration: this.state.duration\n          };\n          await this.props.postBlog(newBlog);\n          if (this.props.blogs.postFail) this.notifyF(\"Some Error occured while posting try again.\");else this.notifyS('Blog posted successfully!!');\n        } else {\n          this.notify(\"Atleast one category should be in your followed spaces list . you can follow required space to publish this blog!!\");\n        }\n      }\n    };\n\n    this.formValidation = () => {\n      const {\n        title,\n        category,\n        description,\n        duration\n      } = this.state;\n      let titleError = \"\",\n          categoryError = \"\",\n          descriptionError = \"\",\n          durationError = \"\",\n          error;\n\n      if (!title.trim()) {\n        titleError = \"Title is required\";\n        error = true;\n      }\n\n      if (!category.length) {\n        categoryError = \"You must select at least one category\";\n        error = true;\n      }\n\n      if (!description.trim() || description === \"<p><br></p>\") {\n        descriptionError = \"Description is required\";\n        error = true;\n      }\n\n      if (!duration || isNaN(duration) || duration <= 0) {\n        durationError = \"Duration should be a positive numeric value\";\n        error = true;\n      }\n\n      this.setState(prevState => ({\n        errors: {\n          title: titleError,\n          description: descriptionError,\n          category: categoryError,\n          duration: durationError\n        }\n      }));\n      return !error;\n    };\n\n    this.state = {\n      description: '',\n      title: '',\n      category: [],\n      files: [],\n      duration: null,\n      errors: {\n        description: '',\n        category: '',\n        title: '',\n        duration: null\n      }\n    };\n    this.handleEditorChange = this.handleEditorChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleMultiSelectChange = this.handleMultiSelectChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const name = target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  handleEditorChange(value) {\n    this.setState({\n      description: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forms__section\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          className: \"contact__main__content\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Breadcrumb, {\n              className: \"mb-4 page__navigation__breadCrump\",\n              children: [/*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/home\",\n                  children: \"Home\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(BreadcrumbItem, {\n                active: true,\n                children: \"Add Blog\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Jumbotron, {\n              className: \"form-jumbotron\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"form__icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 49\n                    }, this), \"Title\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"title\",\n                    className: \"form-control\",\n                    type: \"text\",\n                    value: this.state.title,\n                    placeholder: \"Give a descriptive title.\",\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid__feedback\",\n                    children: this.state.errors.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicDropdown\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"form__icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 49\n                    }, this), \"Choose Category\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(Select, {\n                      isMulti: true,\n                      name: \"category\",\n                      options: spaces,\n                      className: \"basic-multi-select\",\n                      value: this.state.category,\n                      onChange: this.handleMultiSelectChange,\n                      classNamePrefix: \"select\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 42\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid__feedback\",\n                    children: this.state.errors.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"form__icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 49\n                    }, this), \"Describe content Here\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n                    style: {\n                      backgroundColor: 'white'\n                    },\n                    theme: \"snow\",\n                    value: this.state.description,\n                    onChange: this.handleEditorChange,\n                    modules: this.modules,\n                    formats: formats\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid__feedback\",\n                    children: this.state.errors.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"form__icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 49\n                    }, this), \"Read Duration (in minutes)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"duration\",\n                    className: \"form-control\",\n                    type: \"text\",\n                    value: this.state.duration,\n                    placeholder: \"Expected read duration of Blog in minutes.\",\n                    onChange: this.handleInputChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"invalid__feedback\",\n                    children: this.state.errors.duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"mt-4\",\n                  onClick: this.handleSubmit,\n                  variant: \"info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"fa fa-paper-plane mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 105\n                  }, this), \"Publish Blog\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        autoClose: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default addBlogs;","map":{"version":3,"sources":["/home/jaskaran/Desktop/poogle/Poogle/src/components/add_forms/addBlogs.js"],"names":["React","Component","Container","Row","Col","Button","Breadcrumb","BreadcrumbItem","Jumbotron","Link","Form","Select","ReactQuill","Quill","ImageCompress","spaces","toolbarOptions","formats","ToastContainer","toast","zoomOut","slideInDown","slideInUp","bounce","flipInX","zoomIn","Radium","StyleRoot","register","styles","animation","animationName","keyframes","addBlogs","constructor","props","modules","toolbar","imageCompress","quality","maxWidth","maxHeight","imageType","debug","handleMultiSelectChange","category","setState","notify","message","warning","notifyS","success","notifyF","error","handleSubmit","event","preventDefault","isValid","formValidation","console","log","state","tagNames","tagIds","len","length","flag","i","push","label","value","interests","localStorage","getItem","indexOf","newBlog","heading","title","description","author","auth","userId","duration","postBlog","blogs","postFail","titleError","categoryError","descriptionError","durationError","trim","isNaN","prevState","errors","files","handleEditorChange","bind","handleInputChange","target","name","render","backgroundColor"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,SAAR,EAAmBC,GAAnB,EAAwBC,GAAxB,EAA4BC,MAA5B,QAAyC,iBAAzC;AACA,SAASC,UAAT,EAAqBC,cAArB,EAAqCC,SAArC,QAAsD,YAAtD;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAO,iBAAP;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAAQC,KAAR,QAAoB,aAApB;AACA,OAAO,iCAAP;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,SAAQC,MAAR,EAAgBC,cAAhB,EAAgCC,OAAhC,QAA8C,cAA9C;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,SAASC,OAAT,EAAkBC,WAAlB,EAA+BC,SAA/B,EAA0CC,MAA1C,EAAkDC,OAAlD,EAA2DC,MAA3D,QAAyE,kBAAzE;AACA,OAAOC,MAAP,IAAgBC,SAAhB,QAAgC,QAAhC;AACA,OAAO,uCAAP;AACAd,KAAK,CAACe,QAAN,CAAe,uBAAf,EAAwCd,aAAxC;AAEA,MAAMe,MAAM,GAAG;AACbJ,EAAAA,MAAM,EAAE;AACNK,IAAAA,SAAS,EAAE,MADL;AAENC,IAAAA,aAAa,EAAEL,MAAM,CAACM,SAAP,CAAiBP,MAAjB,EAAyB,QAAzB;AAFT,GADK;AAKbH,EAAAA,SAAS,EAAE;AACPQ,IAAAA,SAAS,EAAE,MADJ;AAEPC,IAAAA,aAAa,EAAEL,MAAM,CAACM,SAAP,CAAiBV,SAAjB,EAA4B,WAA5B;AAFR,GALE;AASXC,EAAAA,MAAM,EAAE;AACNO,IAAAA,SAAS,EAAE,MADL;AAENC,IAAAA,aAAa,EAAEL,MAAM,CAACM,SAAP,CAAiBT,MAAjB,EAAyB,QAAzB;AAFT,GATG;AAaXC,EAAAA,OAAO,EAAE;AACPM,IAAAA,SAAS,EAAE,MADJ;AAEPC,IAAAA,aAAa,EAAEL,MAAM,CAACM,SAAP,CAAiBR,OAAjB,EAA0B,SAA1B;AAFR;AAbE,CAAf;;AAmBA,MAAMS,QAAN,SAAuBhC,SAAvB,CAAiC;AAC7BiC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAuBjBC,OAvBiB,GAuBP;AACRC,MAAAA,OAAO,EAACrB,cADA;AAERsB,MAAAA,aAAa,EAAE;AACbC,QAAAA,OAAO,EAAE,GADI;AAEbC,QAAAA,QAAQ,EAAE,GAFG;AAGbC,QAAAA,SAAS,EAAE,GAHE;AAIbC,QAAAA,SAAS,EAAE,YAJE;AAKbC,QAAAA,KAAK,EAAE;AALM;AAFP,KAvBO;;AAAA,SAyCjBC,uBAzCiB,GAyCSC,QAAQ,IAAI;AACtC,WAAKC,QAAL,CAAc;AAAED,QAAAA,QAAQ,EAACA;AAAX,OAAd;AACC,KA3CgB;;AAAA,SAiDjBE,MAjDiB,GAiDPC,OAAD,IAAa7B,KAAK,CAAC8B,OAAN,CAAcD,OAAd,CAjDL;;AAAA,SAkDjBE,OAlDiB,GAkDNF,OAAD,IAAa7B,KAAK,CAACgC,OAAN,CAAcH,OAAd,CAlDN;;AAAA,SAmDjBI,OAnDiB,GAmDNJ,OAAD,IAAa7B,KAAK,CAACkC,KAAN,CAAYL,OAAZ,CAnDN;;AAAA,SAqDjBM,YArDiB,GAqDF,MAAOC,KAAP,IAAe;AAC5BA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMC,OAAO,GAAG,KAAKC,cAAL,EAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;;AAEA,UAAGJ,OAAH,EAAW;AAGP,YAAIK,QAAQ,GAAG,EAAf;AACA,YAAIC,MAAM,GAAG,EAAb;AACA,YAAIC,GAAG,GAAG,KAAKH,KAAL,CAAWhB,QAAX,CAAoBoB,MAA9B;AACA,YAAIC,IAAI,GAAG,KAAX;;AACC,aAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACH,GAAd,EAAkBG,CAAC,EAAnB,EACD;AACEL,UAAAA,QAAQ,CAACM,IAAT,CAAc,KAAKP,KAAL,CAAWhB,QAAX,CAAoBsB,CAApB,EAAuBE,KAArC;AACAN,UAAAA,MAAM,CAACK,IAAP,CAAY,KAAKP,KAAL,CAAWhB,QAAX,CAAoBsB,CAApB,EAAuBG,KAAnC;AAEA,cAAIC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAhB;AAEA,cAAGF,SAAS,CAACG,OAAV,CAAkB,KAAKb,KAAL,CAAWhB,QAAX,CAAoBsB,CAApB,EAAuBG,KAAzC,IAAgD,CAAC,CAApD,EACEJ,IAAI,GAAG,IAAP;AACH;;AAED,YAAGA,IAAH,EAAS;AACP,gBAAMS,OAAO,GAAG;AACdC,YAAAA,OAAO,EAAE,KAAKf,KAAL,CAAWgB,KADN;AAEdf,YAAAA,QAAQ,EAAEA,QAFI;AAGdC,YAAAA,MAAM,EAAEA,MAHM;AAIde,YAAAA,WAAW,EAAE,KAAKjB,KAAL,CAAWiB,WAJV;AAKdC,YAAAA,MAAM,EAAE,KAAK5C,KAAL,CAAW6C,IAAX,CAAgBC,MALV;AAMdC,YAAAA,QAAQ,EAAC,KAAKrB,KAAL,CAAWqB;AANN,WAAhB;AASA,gBAAM,KAAK/C,KAAL,CAAWgD,QAAX,CAAoBR,OAApB,CAAN;AAEA,cAAG,KAAKxC,KAAL,CAAWiD,KAAX,CAAiBC,QAApB,EACE,KAAKjC,OAAL,CAAa,6CAAb,EADF,KAGE,KAAKF,OAAL,CAAa,4BAAb;AACH,SAhBD,MAiBI;AACF,eAAKH,MAAL,CAAY,oHAAZ;AACD;AAEJ;AAEF,KAnGgB;;AAAA,SAqGjBW,cArGiB,GAqGA,MAAK;AACpB,YAAK;AAACmB,QAAAA,KAAD;AAAQhC,QAAAA,QAAR;AAAiBiC,QAAAA,WAAjB;AAA8BI,QAAAA;AAA9B,UAA0C,KAAKrB,KAApD;AACA,UAAIyB,UAAU,GAAC,EAAf;AAAA,UAAmBC,aAAa,GAAG,EAAnC;AAAA,UAAuCC,gBAAgB,GAAC,EAAxD;AAAA,UAA4DC,aAAa,GAAC,EAA1E;AAAA,UAA8EpC,KAA9E;;AACA,UAAG,CAACwB,KAAK,CAACa,IAAN,EAAJ,EAAiB;AACbJ,QAAAA,UAAU,GAAG,mBAAb;AACAjC,QAAAA,KAAK,GAAG,IAAR;AACH;;AAED,UAAG,CAACR,QAAQ,CAACoB,MAAb,EAAoB;AAClBsB,QAAAA,aAAa,GAAG,uCAAhB;AACAlC,QAAAA,KAAK,GAAG,IAAR;AACD;;AAED,UAAG,CAACyB,WAAW,CAACY,IAAZ,EAAD,IAAqBZ,WAAW,KAAG,aAAtC,EAAoD;AAClDU,QAAAA,gBAAgB,GAAG,yBAAnB;AACAnC,QAAAA,KAAK,GAAG,IAAR;AACD;;AAED,UAAG,CAAC6B,QAAD,IAAaS,KAAK,CAACT,QAAD,CAAlB,IAAgCA,QAAQ,IAAE,CAA7C,EAAgD;AAC9CO,QAAAA,aAAa,GAAG,6CAAhB;AACApC,QAAAA,KAAK,GAAG,IAAR;AACD;;AAED,WAAKP,QAAL,CAAc8C,SAAS,KAAK;AACxBC,QAAAA,MAAM,EAAC;AACHhB,UAAAA,KAAK,EAACS,UADH;AAEHR,UAAAA,WAAW,EAAEU,gBAFV;AAGH3C,UAAAA,QAAQ,EAAC0C,aAHN;AAIHL,UAAAA,QAAQ,EAAEO;AAJP;AADiB,OAAL,CAAvB;AASA,aAAO,CAACpC,KAAR;AACH,KAtIkB;;AAEf,SAAKQ,KAAL,GAAa;AACXiB,MAAAA,WAAW,EAAE,EADF;AAEXD,MAAAA,KAAK,EAAC,EAFK;AAGXhC,MAAAA,QAAQ,EAAC,EAHE;AAIXiD,MAAAA,KAAK,EAAC,EAJK;AAKXZ,MAAAA,QAAQ,EAAC,IALE;AAMXW,MAAAA,MAAM,EAAC;AACLf,QAAAA,WAAW,EAAC,EADP;AAELjC,QAAAA,QAAQ,EAAC,EAFJ;AAGLgC,QAAAA,KAAK,EAAC,EAHD;AAILK,QAAAA,QAAQ,EAAC;AAJJ;AANI,KAAb;AAeA,SAAKa,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBD,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKpD,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BoD,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAK1C,YAAL,GAAmB,KAAKA,YAAL,CAAkB0C,IAAlB,CAAuB,IAAvB,CAAnB;AAED;;AAYDC,EAAAA,iBAAiB,CAAC1C,KAAD,EAAQ;AACvB,UAAM2C,MAAM,GAAG3C,KAAK,CAAC2C,MAArB;AACA,UAAMC,IAAI,GAAGD,MAAM,CAACC,IAApB;AACA,SAAKrD,QAAL,CAAc;AACZ,OAACqD,IAAD,GAAQ5C,KAAK,CAAC2C,MAAN,CAAa5B;AADT,KAAd;AAGD;;AAKDyB,EAAAA,kBAAkB,CAACzB,KAAD,EAAQ;AACxB,SAAKxB,QAAL,CAAc;AAAEgC,MAAAA,WAAW,EAAER;AAAf,KAAd;AACD;;AA2FD8B,EAAAA,MAAM,GAAG;AACP,wBAEI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACI,QAAC,SAAD;AAAA,+BACA,QAAC,GAAD;AAAK,UAAA,EAAE,EAAE,EAAT;AAAa,UAAA,SAAS,EAAC,wBAAvB;AAAA,kCACQ,QAAC,GAAD;AAAA,mCACI,QAAC,UAAD;AAAY,cAAA,SAAS,EAAC,mCAAtB;AAAA,sCACI,QAAC,cAAD;AAAA,uCACI,QAAC,IAAD;AAAM,kBAAA,EAAE,EAAC,OAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAII,QAAC,cAAD;AAAgB,gBAAA,MAAM,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADR,eASQ;AAAA,mCACI,QAAC,SAAD;AAAW,cAAA,SAAS,EAAC,gBAArB;AAAA,qCACI,QAAC,IAAD;AAAA,wCACI,QAAC,IAAD,CAAM,KAAN;AAAY,kBAAA,SAAS,EAAC,gBAAtB;AAAA,0CACA,QAAC,IAAD,CAAM,KAAN;AAAA,4CAAY;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,eAEI;AAAO,oBAAA,IAAI,EAAC,OAAZ;AAAoB,oBAAA,SAAS,EAAC,cAA9B;AAA6C,oBAAA,IAAI,EAAC,MAAlD;AAAyD,oBAAA,KAAK,EAAE,KAAKvC,KAAL,CAAWgB,KAA3E;AAAkF,oBAAA,WAAW,EAAC,2BAA9F;AAA0H,oBAAA,QAAQ,EAAE,KAAKoB;AAAzI;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI;AAAK,oBAAA,SAAS,EAAC,mBAAf;AAAA,8BAAoC,KAAKpC,KAAL,CAAWgC,MAAX,CAAkBhB;AAAtD;AAAA;AAAA;AAAA;AAAA,0BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAOI,QAAC,IAAD,CAAM,KAAN;AAAY,kBAAA,SAAS,EAAC,mBAAtB;AAAA,0CACA,QAAC,IAAD,CAAM,KAAN;AAAA,4CAAY;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,eAEA;AAAA,2CAAK,QAAC,MAAD;AAAQ,sBAAA,OAAO,MAAf;AAAgB,sBAAA,IAAI,EAAC,UAArB;AAAgC,sBAAA,OAAO,EAAE9D,MAAzC;AAAiD,sBAAA,SAAS,EAAC,oBAA3D;AAAgF,sBAAA,KAAK,EAAE,KAAK8C,KAAL,CAAWhB,QAAlG;AAA4G,sBAAA,QAAQ,EAAE,KAAKD,uBAA3H;AAAoJ,sBAAA,eAAe,EAAC;AAApK;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,0BAFA,eAGI;AAAK,oBAAA,SAAS,EAAC,mBAAf;AAAA,8BAAoC,KAAKiB,KAAL,CAAWgC,MAAX,CAAkBhD;AAAtD;AAAA;AAAA;AAAA;AAAA,0BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPJ,eAaI,QAAC,IAAD,CAAM,KAAN;AAAA,0CACA,QAAC,IAAD,CAAM,KAAN;AAAA,4CAAY;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,eAEA,QAAC,UAAD;AACI,oBAAA,KAAK,EAAE;AAACwD,sBAAAA,eAAe,EAAE;AAAlB,qBADX;AACuC,oBAAA,KAAK,EAAC,MAD7C;AACqD,oBAAA,KAAK,EAAE,KAAKxC,KAAL,CAAWiB,WADvE;AACoF,oBAAA,QAAQ,EAAE,KAAKiB,kBADnG;AAEI,oBAAA,OAAO,EAAE,KAAK3D,OAFlB;AAE2B,oBAAA,OAAO,EAAGnB;AAFrC;AAAA;AAAA;AAAA;AAAA,0BAFA,eAKI;AAAK,oBAAA,SAAS,EAAC,mBAAf;AAAA,8BAAoC,KAAK4C,KAAL,CAAWgC,MAAX,CAAkBf;AAAtD;AAAA;AAAA;AAAA;AAAA,0BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbJ,eAoBI,QAAC,IAAD,CAAM,KAAN;AAAY,kBAAA,SAAS,EAAC,gBAAtB;AAAA,0CACA,QAAC,IAAD,CAAM,KAAN;AAAA,4CAAY;AAAM,sBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,4BAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,eAEI;AAAO,oBAAA,IAAI,EAAC,UAAZ;AAAuB,oBAAA,SAAS,EAAC,cAAjC;AAAgD,oBAAA,IAAI,EAAC,MAArD;AAA4D,oBAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWqB,QAA9E;AAAwF,oBAAA,WAAW,EAAC,4CAApG;AAAiJ,oBAAA,QAAQ,EAAE,KAAKe;AAAhK;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI;AAAK,oBAAA,SAAS,EAAC,mBAAf;AAAA,8BAAoC,KAAKpC,KAAL,CAAWgC,MAAX,CAAkBX;AAAtD;AAAA;AAAA;AAAA;AAAA,0BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBApBJ,eAyBI,QAAC,MAAD;AAAQ,kBAAA,SAAS,EAAC,MAAlB;AAAyB,kBAAA,OAAO,EAAE,KAAK5B,YAAvC;AAAqD,kBAAA,OAAO,EAAC,MAA7D;AAAA,0CAAoE;AAAM,oBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,0BAApE;AAAA;AAAA;AAAA;AAAA;AAAA,wBAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBATR;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADJ,eA6CI,QAAC,cAAD;AACE,QAAA,SAAS,EAAE;AADb;AAAA;AAAA;AAAA;AAAA,cA7CJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAqDD;;AAjM0B;;AAoMjC,eAAerB,QAAf","sourcesContent":["import React, { Component } from 'react'\nimport {Container, Row, Col,Button} from 'react-bootstrap';\nimport { Breadcrumb, BreadcrumbItem, Jumbotron } from \"reactstrap\";\nimport {Link} from 'react-router-dom'\nimport './add_forms.css'\nimport Form from 'react-bootstrap/Form';\nimport Select from 'react-select'\nimport ReactQuill from 'react-quill';\nimport {Quill} from 'react-quill';\nimport 'react-quill/dist/quill.snow.css'; \nimport ImageCompress from 'quill-image-compress';\nimport {spaces, toolbarOptions, formats} from '../variables'\nimport { ToastContainer, toast } from 'react-toastify';\nimport { zoomOut, slideInDown, slideInUp, bounce, flipInX, zoomIn } from 'react-animations';\nimport Radium, {StyleRoot} from 'radium';\nimport 'react-toastify/dist/ReactToastify.css';\nQuill.register('modules/imageCompress', ImageCompress);\n\nconst styles = {\n  zoomIn: {\n    animation: 'x 1s',\n    animationName: Radium.keyframes(zoomIn, 'zoomIn')\n  },\n  slideInUp: {\n      animation: 'x 1s',\n      animationName: Radium.keyframes(slideInUp, 'slideInUp')\n    },\n    bounce: {\n      animation: 'x 1s',\n      animationName: Radium.keyframes(bounce, 'bounce')\n    },\n    flipInX: {\n      animation: 'x 1s',\n      animationName: Radium.keyframes(flipInX, 'flipInX')\n    },\n}\n\nclass addBlogs extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n          description: '',\n          title:'',\n          category:[],\n          files:[],\n          duration:null,\n          errors:{\n            description:'',\n            category:'',\n            title:'',\n            duration:null\n          }\n\n\n       } \n        this.handleEditorChange = this.handleEditorChange.bind(this)\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.handleMultiSelectChange = this.handleMultiSelectChange.bind(this)\n        this.handleSubmit= this.handleSubmit.bind(this)\n    \n      }\n      modules = {\n        toolbar:toolbarOptions,\n        imageCompress: {\n          quality: 0.7,\n          maxWidth: 500,\n          maxHeight: 500, \n          imageType: 'image/jpeg', \n          debug: true\n        }\n      }\n      \n      handleInputChange(event) {\n        const target = event.target;\n        const name = target.name;\n        this.setState({\n          [name]: event.target.value\n        });\n      }\n      handleMultiSelectChange = category => {\n      this.setState({ category:category });\n      }\n      \n      handleEditorChange(value) {\n        this.setState({ description: value })\n      }\n\n      notify = (message) => toast.warning(message);\n      notifyS = (message) => toast.success(message);\n      notifyF = (message) => toast.error(message, );\n\n      handleSubmit = async (event)=>{\n        event.preventDefault();\n        const isValid = this.formValidation();\n        console.log(this.state);\n        \n        if(isValid){\n          \n\n            var tagNames = [];\n            var tagIds = [];\n            var len = this.state.category.length;\n            var flag = false;\n             for(var i=0;i<len;i++)\n            {\n              tagNames.push(this.state.category[i].label);\n              tagIds.push(this.state.category[i].value);\n\n              var interests = localStorage.getItem('interests');\n              \n              if(interests.indexOf(this.state.category[i].value)>-1)\n                flag = true;\n            }\n\n            if(flag) {\n              const newBlog = {\n                heading: this.state.title,\n                tagNames: tagNames,\n                tagIds: tagIds,\n                description: this.state.description,\n                author: this.props.auth.userId,\n                duration:this.state.duration\n              };\n  \n              await this.props.postBlog(newBlog);\n\n              if(this.props.blogs.postFail)\n                this.notifyF(\"Some Error occured while posting try again.\");\n              else\n                this.notifyS('Blog posted successfully!!')\n            }\n            else{\n              this.notify(\"Atleast one category should be in your followed spaces list . you can follow required space to publish this blog!!\");\n            }\n            \n        }\n      \n      }\n      \n      formValidation = () =>{\n        const{title, category,description, duration} = this.state;\n        let titleError=\"\", categoryError = \"\", descriptionError=\"\", durationError=\"\", error;\n        if(!title.trim()){\n            titleError = \"Title is required\";\n            error = true;            \n        }\n\n        if(!category.length){\n          categoryError = \"You must select at least one category\";\n          error = true;            \n        }\n        \n        if(!description.trim()||description===\"<p><br></p>\"){\n          descriptionError = \"Description is required\";\n          error = true;            \n        }\n        \n        if(!duration || isNaN(duration) || duration<=0 ){\n          durationError = \"Duration should be a positive numeric value\";\n          error = true;\n        }\n        \n        this.setState(prevState => ({\n            errors:{\n                title:titleError,\n                description: descriptionError,\n                category:categoryError,\n                duration: durationError\n            }\n        }))\n        \n        return !error;\n    }\n      \n      \n      \n      render() {\n        return (\n           \n            <div className=\"forms__section\">\n                <Container>\n                <Col md={12} className=\"contact__main__content\">\n                        <Row>\n                            <Breadcrumb className=\"mb-4 page__navigation__breadCrump\">\n                                <BreadcrumbItem>\n                                    <Link to=\"/home\">Home</Link>\n                                </BreadcrumbItem>\n                                <BreadcrumbItem active>Add Blog</BreadcrumbItem>\n                            </Breadcrumb>\n                        </Row>\n                        <div>\n                            <Jumbotron className='form-jumbotron'>\n                                <Form>\n                                    <Form.Group controlId=\"formBasicEmail\">\n                                    <Form.Label><span className=\"form__icon\"></span>Title</Form.Label>\n                                        <input name=\"title\" className=\"form-control\" type=\"text\" value={this.state.title} placeholder=\"Give a descriptive title.\" onChange={this.handleInputChange} />\n                                        <div className=\"invalid__feedback\">{this.state.errors.title}</div>\n                                    </Form.Group>\n\n                                    <Form.Group controlId=\"formBasicDropdown\">\n                                    <Form.Label><span className=\"form__icon\"></span>Choose Category</Form.Label>\n                                    <div><Select isMulti name=\"category\" options={spaces} className=\"basic-multi-select\" value={this.state.category} onChange={this.handleMultiSelectChange} classNamePrefix=\"select\"/></div>\n                                        <div className=\"invalid__feedback\">{this.state.errors.category}</div>\n                                    </Form.Group>\n\n                                    <Form.Group>\n                                    <Form.Label><span className=\"form__icon\"></span>Describe content Here</Form.Label>\n                                    <ReactQuill \n                                        style={{backgroundColor: 'white'}} theme=\"snow\"  value={this.state.description} onChange={this.handleEditorChange} \n                                        modules={this.modules} formats= {formats}/>\n                                        <div className=\"invalid__feedback\">{this.state.errors.description}</div>\n                                    </Form.Group>\n                                    <Form.Group controlId=\"formBasicEmail\">\n                                    <Form.Label><span className=\"form__icon\"></span>Read Duration (in minutes)</Form.Label>\n                                        <input name=\"duration\" className=\"form-control\" type=\"text\" value={this.state.duration} placeholder=\"Expected read duration of Blog in minutes.\" onChange={this.handleInputChange} />\n                                        <div className=\"invalid__feedback\">{this.state.errors.duration}</div>\n                                    </Form.Group>\n                                    <Button className='mt-4' onClick={this.handleSubmit} variant=\"info\"><span className='fa fa-paper-plane mr-3' />Publish Blog</Button>\n                            </Form>\n                          </Jumbotron>\n                        </div>\n                \n                </Col>\n                </Container>\n                <ToastContainer \n                  autoClose={false}\n                  />\n          </div>\n         \n        )\n      }\n}\n\nexport default addBlogs;"]},"metadata":{},"sourceType":"module"}